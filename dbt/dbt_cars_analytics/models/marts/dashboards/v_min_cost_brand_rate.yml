version: 2

models:
  - name: v_min_cost_brand_rate
    description: "Минимальная цена автомобиля по бренду, кузову, году и рейтингу за ближайшие 3 дня."
    columns:
      - name: brand
        description: "Бренд автомобиля"
        tests:
          - not_null
      - name: carbody
        description: "Тип кузова"
        tests:
          - not_null
      - name: min_cost
        description: "Минимальная рыночная цена (ближайшая по пробегу)"
        tests:
          - not_null
          - relationships:
              to: ref('fact_cars_enriched')
              field: price
      - name: source_lot_id
        description: "Уникальный идентификатор лота"
        tests:
          - unique
          - not_null